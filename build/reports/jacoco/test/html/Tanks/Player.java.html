<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Player.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">TanksGame2024</a> &gt; <a href="index.source.html" class="el_package">Tanks</a> &gt; <span class="el_source">Player.java</span></div><h1>Player.java</h1><pre class="source lang-java linenums">package Tanks;

import org.checkerframework.checker.units.qual.A;
import org.json.JSONTokener;
import processing.core.PApplet;
import processing.core.PImage;
import processing.core.PShape;
import processing.core.PVector;
import processing.data.JSONArray;
import processing.data.JSONObject;
import processing.event.KeyEvent;
import processing.event.MouseEvent;

import java.awt.*;
import java.awt.geom.AffineTransform;
import java.awt.image.BufferedImage;

import java.io.*;
import java.util.*;
import java.lang.Math;

public class Player { // handles players and logic
    private App app;
    private int xCoordinate;
    private int yCoordinate;
    private int[] colourScheme;
    private Tank tank;
    private Level levelObj;
    private HealthPower healthPower;
    private String player;
    private int score;
    private int parachute;
    private int fuel;
<span class="fc" id="L34">    private boolean playerAlive=true;</span>
<span class="fc" id="L35">    private boolean gainScore=false;</span>
<span class="fc" id="L36">    private boolean parachuteOn=false;</span>
    private int shield; // extension
<span class="fc" id="L38">    private boolean shieldOn = false; // extension</span>
<span class="fc" id="L39">    private float shieldCount = 0; // extension</span>
<span class="fc" id="L40">    private boolean belowMap = false;</span>


    /**
     * Constructor for Player class. Keeps track of everything a player has (e.g. score, parachutes, fuel, shield, etc.) and contains a Tank object.
     * 
     * @param app is the App object that we will pass through to allow for drawing + more implementations of the PApplet library.
     * @param levelObj is the Level object which a Player object belongs to.
     * @param xCoordinate is the x-coordinate of a player on the screen.
     * @param yCoordinate is the y-coordinate of a player on the screen.
     * @param colourScheme is the RGB colour scheme of a player.
     * @param player is the String for the player's name, i.e. &quot;A&quot; for Player A, &quot;B&quot; for Player B, etc.
     */
<span class="fc" id="L53">    public Player(App app, Level levelObj, int xCoordinate, int yCoordinate, int[] colourScheme, String player) {</span>
<span class="fc" id="L54">        this.app = app;</span>
<span class="fc" id="L55">        this.xCoordinate = xCoordinate;</span>
<span class="fc" id="L56">        this.yCoordinate = yCoordinate;</span>
<span class="fc" id="L57">        this.levelObj = levelObj;</span>
<span class="fc" id="L58">        this.colourScheme = colourScheme;</span>
<span class="fc" id="L59">        this.player = player;</span>
<span class="fc" id="L60">        this.score = 0;</span>
<span class="fc" id="L61">        this.parachute = 3;</span>
<span class="fc" id="L62">        this.fuel = 250;</span>
<span class="fc" id="L63">        this.shield=0; // extension</span>
<span class="fc" id="L64">    }</span>

    // no need for Javadoc comments for getters and setters.
    public int[] getColourScheme() {
<span class="fc" id="L68">        return this.colourScheme;</span>
    }

    public String getPlayerString() {
<span class="fc" id="L72">        return this.player;</span>
    }

    public boolean getPlayerAlive() {
<span class="fc" id="L76">        return this.playerAlive;</span>
    }

    public void setPlayerAlive(boolean value) {
<span class="fc" id="L80">        this.playerAlive = value;</span>
<span class="fc" id="L81">    }</span>

    public void setScore(int score) {
<span class="nc" id="L84">        this.score = score;</span>
<span class="nc" id="L85">    }</span>

    public Tank getTank() {
<span class="fc" id="L88">        return this.tank;</span>
    }

    public void setHealthPower() {
<span class="fc" id="L92">        this.healthPower = new HealthPower(this.app, this.levelObj, this);</span>
<span class="fc" id="L93">    }</span>

    public HealthPower getHealthPower() {
<span class="fc" id="L96">        return this.healthPower;</span>
    }

    public int getHealth() {
<span class="fc" id="L100">        return this.healthPower.getHealth();</span>
    }

    public float getPower() {
<span class="fc" id="L104">        return this.healthPower.getPower();</span>
    }

    public void setShield(int num) { // extension
<span class="nc" id="L108">        this.shield = num;</span>
<span class="nc" id="L109">    }</span>

    public int getShield() { // extension
<span class="nc" id="L112">        return this.shield;</span>
    }

    public int getScore() {
<span class="fc" id="L116">        return this.score;</span>
    }

    public int getFuel() {
<span class="fc" id="L120">        return this.fuel;</span>
    }

    public int getParachute() {
<span class="nc" id="L124">        return this.parachute;</span>
    }

    public void setFuel(int fuel) {
<span class="fc" id="L128">        this.fuel = fuel;</span>
<span class="fc" id="L129">    }</span>

    /**
     * While the parachute feature is not an extension, I have implemented an extension feature where the number of parachutes increases when the key 'p' is pressed.
     * 
     * @param parachute is the number of parachutes that we want our parachute number to set or update to.
     */
    public void setParachute(int parachute) {
<span class="nc" id="L137">        this.parachute = parachute;</span>
<span class="nc" id="L138">    }</span>

    public void setParachuteOn(boolean value) { // if true: call when drawing parachute
<span class="fc" id="L141">        this.parachuteOn = value;</span>
<span class="fc" id="L142">    }</span>

    public boolean getParachuteOn() {
<span class="fc" id="L145">        return this.parachuteOn;</span>
    }

    public boolean getBelowMap() {
<span class="fc" id="L149">        return this.belowMap;</span>
    }

    public void setBelowMap(boolean value) {
<span class="nc" id="L153">        this.belowMap = value;</span>
<span class="nc" id="L154">    }</span>

    public void setShieldOn(boolean value) { // call when tanks are being hit and they still have shields left
<span class="fc" id="L157">        this.shieldOn = value;</span>
<span class="fc" id="L158">    }</span>

    public void setGainScore(boolean value) { // set when score is to be gained
<span class="fc" id="L161">        this.gainScore = value;</span>
<span class="fc" id="L162">    }</span>

    public void updateHealth(int health) {
<span class="fc" id="L165">        this.healthPower.updateHealth(health);</span>
<span class="fc" id="L166">    }</span>

    public void updatePower(int power) {
<span class="fc" id="L169">        this.healthPower.updatePower(power);</span>
<span class="fc" id="L170">    }</span>

    public void setShieldCount(int value) {
<span class="fc" id="L173">        this.shieldCount = value;</span>
<span class="fc" id="L174">    }</span>

    /**
     * Creates a Tank object at the positions of the player.
     */
    public void setTank() { // create Tank object
<span class="fc" id="L180">        this.tank = new Tank((float)this.xCoordinate, (float)this.yCoordinate, this.colourScheme, this.app, this.levelObj, this); </span>
<span class="fc" id="L181">    }</span>

    /**
     * Displays the text which states which player the turn belongs to.
     */
    public void displayPlayerText() { // what the method says
<span class="fc" id="L187">        int xCoordinate = 15;</span>
<span class="fc" id="L188">        int yCoordinate = 30;</span>

<span class="fc" id="L190">        app.strokeWeight(1);</span>
<span class="fc" id="L191">        app.textSize(18);</span>
<span class="fc" id="L192">        app.fill(0);</span>
<span class="fc" id="L193">        String printOut = String.format(&quot;Player %s's turn&quot;, this.player);</span>
<span class="fc" id="L194">        app.text(printOut, xCoordinate, yCoordinate);</span>
<span class="fc" id="L195">    }</span>

    /**
     * Increases the player's score. Call when the player has hit another tank.
     * 
     * @param increase is the number we want our score to increase by.
     */
    public void increaseScore(int increase) {
<span class="fc" id="L203">        int newScore = increase + this.score;</span>
<span class="fc bfc" id="L204" title="All 2 branches covered.">        if (this.gainScore == true) {</span>
<span class="fc" id="L205">            this.score = newScore;</span>

<span class="pc bpc" id="L207" title="1 of 2 branches missed.">            if (this.score == newScore) {</span>
<span class="fc" id="L208">                this.gainScore = false;</span>
            }
        }
<span class="fc" id="L211">    }</span>

    /**
     * Displays the amount of fuel left in the top left corner.
     */
    public void displayFuel() { // display fuel amount in top left corner
<span class="fc" id="L217">        int xCoordinate = 210;</span>
<span class="fc" id="L218">        int yCoordinate = 30;</span>

<span class="fc" id="L220">        app.strokeWeight(1);</span>
<span class="fc" id="L221">        app.textSize(18);</span>
<span class="fc" id="L222">        app.fill(0);</span>
<span class="fc" id="L223">        String fuelNum = String.format(&quot;%d&quot;, this.fuel);</span>
<span class="fc" id="L224">        app.text(fuelNum, xCoordinate, yCoordinate);</span>
<span class="fc" id="L225">    }</span>

    /**
     * Displays the number of parachutes left in the top left corner.
     */
    public void displayParachute() { // display parachute number in top left corner
<span class="fc" id="L231">        int xCoordinate = 210;</span>
<span class="fc" id="L232">        int yCoordinate = 58;</span>

<span class="fc" id="L234">        app.strokeWeight(1);</span>
<span class="fc" id="L235">        app.textSize(18);</span>
<span class="fc" id="L236">        app.fill(0);</span>
<span class="fc" id="L237">        String parachuteNum = String.format(&quot;%d&quot;, this.parachute);</span>
<span class="fc" id="L238">        app.text(parachuteNum, xCoordinate, yCoordinate);</span>
<span class="fc" id="L239">    }</span>

    /**
     * Displays the number of shields left in the top left corner. This is an extension feature of my program.
     */
    public void displayShield() { // display shield number in top left corner - extension
<span class="fc" id="L245">        int xCoordinate = 210;</span>
<span class="fc" id="L246">        int yCoordinate = 86;</span>

<span class="fc" id="L248">        app.strokeWeight(1);</span>
<span class="fc" id="L249">        app.textSize(18);</span>
<span class="fc" id="L250">        app.fill(0);</span>
<span class="fc" id="L251">        String parachuteNum = String.format(&quot;%d&quot;, this.shield);</span>
<span class="fc" id="L252">        app.text(parachuteNum, xCoordinate, yCoordinate);</span>
<span class="fc" id="L253">    }</span>

    /**
     * Draws the shield, which disappears after 25 frames. This is an extension feature of my program.
     * 
     * @return true if executed, false if otherwise.
     */
    public boolean drawShield() { // draw shield on tank - extension; disappears after 25 frames (use counter to keep track)
<span class="fc bfc" id="L261" title="All 2 branches covered.">        if (this.shieldOn == true) {</span>
<span class="fc" id="L262">            app.stroke(0);</span>
<span class="fc" id="L263">            app.fill(this.colourScheme[0], this.colourScheme[1], this.colourScheme[2], 50);</span>
<span class="fc" id="L264">            app.ellipse(this.tank.getTankCentreX(), this.tank.getTankCentreY(), 45, 45);</span>
<span class="fc" id="L265">            this.shieldCount += 1;</span>

<span class="pc bpc" id="L267" title="1 of 2 branches missed.">            if (this.shieldCount == 25) {</span>
<span class="fc" id="L268">                this.shield -= 1;</span>
<span class="fc" id="L269">                this.shieldCount = 0;</span>
<span class="fc" id="L270">                this.shieldOn = false;</span>
            }

<span class="fc" id="L273">            return true;</span>
        }

<span class="fc" id="L276">        return false;</span>
    }

    /**
     * Draws the parachute on the tank. While the parachute feature is not an extension, I have implemented an extension feature where the number of parachutes increases when the key 'p' is pressed.
     * 
     * @return true if executed, false if otherwise.
     */
    public boolean drawParachute() { //draw parachute on tank
<span class="fc bfc" id="L285" title="All 2 branches covered.">        if (this.parachuteOn==true) {</span>
<span class="fc" id="L286">            PImage parachute = this.levelObj.getParachutImage();</span>
<span class="fc" id="L287">            app.image(parachute, this.tank.getXCoordinate()-10, this.tank.getYCoordinate()-(3*this.tank.getTankHeight()), this.tank.getTankWidth()+20, 3*this.tank.getTankHeight());</span>

<span class="fc" id="L289">            return true;</span>
        }

<span class="fc" id="L292">        return false;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>